<div class="card event-card">
  <div class="event-card__body">
    <div class="event-card__info">
      <% if event.event_image.attached? %>
        <%= image_tag event.event_image, size: isDetail ? "400x480" : "310x180", class: isDetail ? 'detail' : "" %>
      <% else %>
        <%= image_tag 'no_image.png', size: isDetail ? "400x480" : "310x180", class: isDetail ? 'detail' : "" %>
      <% end %>
      <p class="event-card__date">
        <%= event.date %>
      </p>
      <%= link_to event.event_name, event_path(event.id), class: 'event-card__title' %>
      <% if isDetail %>
        <% if flash.now[:notice] =~ /https?:\/\/\S+/ %>
          <% flash.now[:notice].scan(/https?:\/\/\S+/) do |url| %>
            <p class="event-card__url">
              <%= link_to url, url %>
            </p>
          <% end %>
        <% end %>
      <% end %>
      <%= link_to event.creator.full_name, profile_users_path(event.creator), class: 'event-card__author' %>
    </div>
    <div class="event-card__footer">
      <% unless isDetail %>
        <div class="event-card__participants">
          <div class="event-card__avatar-group">
            <% if event.users.length > 0 %>
              <% event.users.each do |user| %>
                <% if user.image.attached? %>
                  <%= image_tag user.image, size: "150x150", class: 'event-card__avatar' %>
                <% else %>
                  <%= image_tag 'no_image.png', size: "150x150", class: 'event-card__avatar' %>
                <% end %>
              <% end %>
            <% else %>
              <div style="height:36px"></div>
            <% end %>
          </div>
          <% unless event.users.count == 0 %>
            <div class="event-card__count">
              <%= event.users.count %>
            </div>
          <% end %>
        </div>
      <% end %>
      <p class="event-card__createdAt">
        <%= event.created_at %>
      </p>
    </div>
  </div>
</div>
